---
import Layout from '../layouts/Layout.astro';
if (Astro.request.method === "POST") {
	try {
		const data = await Astro.request.formData();
		console.log(data.get('query'));
		return Astro.redirect("/search?query="+data.get('query'));
	} catch (err) {
		if (err instanceof Error) {
			console.error(err.message);
		}
	}
}
---

<Layout title="Welcome to Astro.">
	<h1 class="text-6xl font-extrabold text-white/80 text-center mt-20">AURORA</h1>
	<form class="max-w-[90%] md:max-w-xl mx-auto mt-10" method="post">
		<label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
		<div class="relative">
			<input type="search" name="query" id="default-search" class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Search Mockups, Logos..." required />
			<button type="submit" class="text-white absolute top-0 end-0 bottom-0 bg-blue-700 hover:bg-blue-800 focus:ring-[1px] focus:outline-none font-medium rounded-r-lg px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700">
				<svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
					<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
				</svg>
			</button>
		</div>
	</form>
</Layout>
